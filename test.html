<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="result.jsp" method="post" enctype="multipart/form-data">
        <input id="img-upload" type="file" name="image">
        <input type="submit" value="Upload">
    </form>
    <p id="result"></p>

    <hr/>
    <ul>
        <li>| 1 | 2 | 3 | 키 입력 로고 이름 <input type="text" placeholder="logo.png"></li>
        <li>| 1 | 2 | 3 | 키 입력 글자 타입 ttf이름 <input type="text" placeholder="NanumGothic.ttf"></li>
        <li>| 1 | 2 | 3 | 키 입력 글자 크기 <input type="number" placeholder="35"></li>
        <li>| 1 | 2 | 3 | 키 입력 글자 색상 <input type="color"></li>

        <br/><br/>

        <li>| 4 | 5 | 6 | 키 입력 로고 이름 <input type="text" placeholder="logo.png"></li>
        <li>| 1 | 5 | 6 | 키 입력 글자 타입 ttf이름 <input type="text" placeholder="NanumGothic.ttf"></li>
        <li>| 4 | 5 | 6 | 키 입력 글자 크기 <input type="number" placeholder="35"></li>
        <li>| 4 | 5 | 6 | 키 입력 글자 색상 <input type="color"></li>

        <br/><br/>

        <li>| 7 | 8 | 9 | 0 | 키 입력 사진 이름 <input type="text" placeholder="logo.png"></li>
        <li>| 7 | 8 | 9 | 0 | 키 입력 글자 타입 ttf이름 <input type="text" placeholder="NanumGothic.ttf"></li>
        <li>| 7 | 8 | 9 | 0 | 키 입력 글자 크기 <input type="number" placeholder="35"></li>
        <li>| 7 | 8 | 9 | 0 | 키 입력 글자 색상 <input type="color"></li>
    </ul>

    <hr />
    <p>가상키패드 설정 값</p>
    <pre id="json-display"></pre>

    <script>
        var fileInput = document.getElementById("img-upload");

        fileInput.addEventListener("change", function() {
        var file = fileInput.files[0];

        var img = new Image();
        img.onload = function() {
            var width = this.width; // 이미지 너비 (픽셀 단위)
            var height = this.height; // 이미지 높이 (픽셀 단위)

            console.log("이미지 너비: " + width + "px");
            console.log("이미지 높이: " + height + "px");
            let result = document.getElementById('result');
            result.textContent = width+'px, '+height+'px';
        };
        img.src = URL.createObjectURL(file);
        });

        var design = {
            render:
                [
                    {
                        type:'linear',
                        dummy:{
                            count:1,
                            file:'logo.png'
                        },
                        font:{
                            file:'NanumGothic.ttf',
                            type:'BOLD',
                            size:'35',
                            color:'85,85,85',
                            location:'0,-2',
                        },
                        chars:'123',
                        key0:"rect:0,1,160,102",
                        key1:"rect:160,1,160,102",
                        key2:"rect:320,1,160,102",
                        key3:"rect:480,1,160,102"
                    },
                    {
                        type:'linear',
                        dummy:{
                            count:1,
                            file:'logo.png'
                        },
                        font:{
                            file:'NanumGothic.ttf',
                            type:'BOLD',
                            size:'35',
                            color:'85,85,85',
                            location:'0,-2',
                        },
                        chars:'456',
                        key0:"rect:0,103,160,102",
                        key1:"rect:160,103,160,102",
                        key2:"rect:320,103,160,102",
                        key3:"rect:480,103,160,102"
                    },
                    {
                        type:'linear',
                        dummy:{
                            count:1,
                            file:'logo.png'
                        },
                        font:{
                            file:'NanumGothic.ttf',
                            type:'BOLD',
                            size:'35',
                            color:'85,85,85',
                            location:'0,-2',
                        },
                        chars:'7890',
                        key0:"rect:0,205,160,102",
                        key1:"rect:160,205,160,102",
                        key2:"rect:320,205,160,102",
                        key3:"rect:480,205,160,102"
                    }
                ],
                key:{
                    backspace:"rect:0,307,160,102",
                    close:"rect:161,307,479,105"
                },
                background:"number.png",
        }
    </script>

    <script>
        var jsonStr = JSON.stringify(design, null, 2); // 들여쓰기와 줄바꿈 적용

        var jsonDisplay = document.getElementById("json-display");
        jsonDisplay.textContent = jsonStr;
    </script>
    <style>
        pre {
            font-weight: bold;
            white-space: pre-wrap; /* 줄바꿈을 유지 */
            font-family: monospace; /* 모노스페이스 폰트 사용 */
            padding: 10px; /* 여백 추가 */
            background-color: #eee; /* 배경색 지정 */
            border-radius: 5px; /* 모서리 둥글게 */
        }
    </style>
</body>
</html>